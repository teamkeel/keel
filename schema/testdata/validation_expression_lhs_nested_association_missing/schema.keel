model Customer {
  fields {
    orders Order[]
  }

  @permission(
    expression: (customer.orders == nil or customer.orders.ratings == nil and (customer.orders.ho == nil or customer.orders.hey == nil)) or customer.orders.ratingss.rated == true,
    actions: [get, update]
  )
}

model Order {
  fields {
    ratings Rating
    customer Customer
  }
}

model Rating {
  fields {
    rated Boolean
  }
}