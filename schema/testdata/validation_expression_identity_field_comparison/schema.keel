model Author {
    fields {
        identity Identity
    }
}

model Publisher {
    fields {
        identity Identity
    }
}

model Post {
    fields {
        title Text
        owner Author
        publisher Publisher
    }

    operations {
        update updatePost(id) with (title, publisher, owner) {
            @permission(expression: post.owner.identity == post.publisher.identity)
        }
    }
}
