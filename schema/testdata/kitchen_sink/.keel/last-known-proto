{
  "models": [
    {
      "name": "Extra",
      "fields": [
        {
          "model_name": "Extra",
          "name": "greeting",
          "type": 1
        },
        {
          "model_name": "Extra",
          "name": "id",
          "type": 6,
          "unique": true
        }
      ]
    },
    {
      "name": "Profile",
      "fields": [
        {
          "model_name": "Profile",
          "name": "identity",
          "type": 11,
          "unique": true
        },
        {
          "model_name": "Profile",
          "name": "username",
          "type": 1,
          "unique": true
        },
        {
          "model_name": "Profile",
          "name": "id",
          "type": 6,
          "unique": true
        }
      ],
      "operations": [
        {
          "model_name": "Profile",
          "name": "createProfile",
          "type": 1,
          "implementation": 1,
          "inputs": [
            {
              "name": "username",
              "type": 1,
              "model_name": {
                "value": "Profile"
              },
              "field_name": {
                "value": "username"
              }
            }
          ],
          "set_expressions": [
            {
              "source": "profile.identity = ctx.identity"
            }
          ]
        },
        {
          "model_name": "Profile",
          "name": "myProfile",
          "type": 2,
          "implementation": 1,
          "where_expressions": [
            {
              "source": "profile.identity = ctx.identity"
            }
          ]
        },
        {
          "model_name": "Profile",
          "name": "profile",
          "type": 2,
          "implementation": 1,
          "inputs": [
            {
              "name": "id",
              "type": 1,
              "model_name": {
                "value": "Profile"
              },
              "field_name": {
                "value": "id"
              }
            }
          ]
        },
        {
          "model_name": "Profile",
          "name": "updateUsername",
          "type": 4,
          "implementation": 1,
          "inputs": [
            {
              "name": "username",
              "type": 1,
              "model_name": {
                "value": "Profile"
              },
              "field_name": {
                "value": "username"
              }
            }
          ],
          "where_expressions": [
            {
              "source": "profile.identity = ctx.identity"
            }
          ]
        }
      ],
      "permissions": [
        {
          "model_name": "Profile",
          "expression": {
            "source": "true"
          },
          "operations_types": [
            1,
            2,
            4
          ]
        }
      ]
    },
    {
      "name": "Post",
      "fields": [
        {
          "model_name": "Post",
          "name": "body",
          "type": 1
        },
        {
          "model_name": "Post",
          "name": "author",
          "type": 7
        },
        {
          "model_name": "Post",
          "name": "id",
          "type": 6,
          "unique": true
        }
      ],
      "operations": [
        {
          "model_name": "Post",
          "name": "createPost",
          "type": 1,
          "implementation": 1,
          "inputs": [
            {
              "name": "body",
              "type": 1,
              "model_name": {
                "value": "Post"
              },
              "field_name": {
                "value": "body"
              }
            },
            {
              "name": "author",
              "type": 1,
              "model_name": {
                "value": "Post"
              },
              "field_name": {
                "value": "author"
              }
            }
          ],
          "permissions": [
            {
              "model_name": "Post",
              "operation_name": {
                "value": "createPost"
              },
              "role_name": "Admin",
              "expression": {
                "source": "post.author.identity == ctx.identity"
              },
              "operations_types": [
                1
              ]
            }
          ]
        },
        {
          "model_name": "Post",
          "name": "listPosts",
          "type": 3,
          "implementation": 1
        },
        {
          "model_name": "Post",
          "name": "getPost",
          "type": 2,
          "implementation": 1,
          "inputs": [
            {
              "name": "id",
              "type": 1,
              "model_name": {
                "value": "Post"
              },
              "field_name": {
                "value": "id"
              }
            }
          ]
        }
      ],
      "permissions": [
        {
          "model_name": "Post",
          "expression": {
            "source": "ctx.identity != null"
          },
          "operations_types": [
            3,
            2
          ]
        }
      ]
    }
  ],
  "roles": [
    {
      "name": "Admin",
      "domains": [
        "hello.com"
      ],
      "emails": [
        "hello@agency.com"
      ]
    }
  ],
  "apis": [
    {
      "name": "Web",
      "type": 1,
      "api_models": [
        {
          "model_name": "Profile"
        },
        {
          "model_name": "Post"
        }
      ]
    }
  ]
}